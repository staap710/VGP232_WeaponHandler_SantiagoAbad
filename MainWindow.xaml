<Window x:Class="Assignment1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Assignment1"
        mc:Ignorable="d"
        Title="Weapon Manager" Height="800" Width="900"
        Background="{DynamicResource PrimaryBackgroundBrush}"
        Foreground="{DynamicResource PrimaryForegroundBrush}">
    <Window.Resources>
        <!-- Template for each weapon in the list: image left, tidy text on the right -->
        <DataTemplate x:Key="WeaponItemTemplate">
            <Border Padding="6" Margin="4" CornerRadius="6" Background="Transparent">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Image -->
                    <Image Source="{Binding Image}"
                           Width="96" Height="96"
                           Margin="6"
                           Stretch="UniformToFill"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Left"
                           />

                    <!-- Details -->
                    <StackPanel Grid.Column="1" Margin="10,0,6,0">
                        <TextBlock Text="{Binding Name}"
                                   FontSize="14"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource PrimaryForegroundBrush}"/>

                        <WrapPanel Margin="0,6,0,0">
                            <TextBlock Text="{Binding Type}" Opacity="0.9" Margin="0,0,8,0"/>
                            <TextBlock Text="&#8226;" Margin="0,0,8,0"/>
                            <TextBlock Text="Rarity:" FontWeight="SemiBold"/>
                            <TextBlock Text="{Binding Rarity}" Margin="6,0,12,0"/>
                            <TextBlock Text="ATK:" FontWeight="SemiBold"/>
                            <TextBlock Text="{Binding BaseAttack}" Margin="6,0,0,0"/>
                        </WrapPanel>

                        <TextBlock Text="{Binding SecondaryStat}"
                                   Foreground="Gray"
                                   Margin="0,6,0,0"/>

                        <TextBlock Text="{Binding Passive}"
                                   TextWrapping="Wrap"
                                   Foreground="{DynamicResource PrimaryForegroundBrush}"
                                   Margin="0,6,0,0"
                                   MaxHeight="48"/>
                    </StackPanel>
                </Grid>
            </Border>
        </DataTemplate>

        <!-- Optional: a default image shown when binding fails (uncomment and provide a resource) -->
        <!-- <BitmapImage x:Key="DefaultWeaponImage" UriSource="pack://application:,,,/Images/default.png" /> -->
    </Window.Resources>

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" MinHeight="413.32"/>
            <RowDefinition Height="Auto" MinHeight="0"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="283"/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>

        <!-- Left Column: Controls -->
        <StackPanel Grid.Row="0" Grid.Column="0" Margin="0,0,10,0">
            <!-- Local resources/styles for left panel: change LeftPanelTextBrush to any color you want -->
            <StackPanel.Resources>
                <SolidColorBrush x:Key="LeftPanelTextBrush" Color="#FFDDEEFF"/>
                <Style TargetType="Label">
                    <Setter Property="Foreground" Value="{StaticResource LeftPanelTextBrush}"/>
                </Style>
                <Style TargetType="RadioButton">
                    <Setter Property="Foreground" Value="{StaticResource LeftPanelTextBrush}"/>
                    <Setter Property="Background" Value="Transparent"/>
                </Style>
                <Style TargetType="ComboBox">
                    <Setter Property="Foreground" Value="{StaticResource LeftPanelTextBrush}"/>
                </Style>
                <Style TargetType="TextBox">
                    <Setter Property="Foreground" Value="{StaticResource LeftPanelTextBrush}"/>
                </Style>
            </StackPanel.Resources>

            <GroupBox Header="File Operations">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <Button Content="Load" Click="LoadClicked" Width="60" Margin="5"/>
                    <Button Content="Save" Click="SaveClicked" Width="60" Margin="5"/>
                </StackPanel>
            </GroupBox>

            <GroupBox Header="Edit Operations" Margin="0,10,0,0">
                <StackPanel>
                    <Button Content="Add Weapon" Click="AddClicked" Margin="5"/>
                    <Button Content="Edit Selected" Click="EditClicked" Margin="5"/>
                    <Button Content="Remove Selected" Click="RemoveClicked" Margin="5"/>
                </StackPanel>
            </GroupBox>

            <GroupBox Header="Sort By" Margin="0,10,0,0">
                <StackPanel>
                    <RadioButton Content="Name" Checked="SortRadioSelected" Tag="Name" IsChecked="True"/>
                    <RadioButton Content="Rarity" Checked="SortRadioSelected" Tag="Rarity"/>
                    <RadioButton Content="Base Attack" Checked="SortRadioSelected" Tag="BaseAttack"/>
                    <RadioButton Content="Passive" Checked="SortRadioSelected" Tag="Passive"/>
                    <RadioButton Content="Secondary Stat" Checked="SortRadioSelected" Tag="SecondaryStat"/>
                </StackPanel>
            </GroupBox>

            <GroupBox Header="Filters" Margin="0,10,0,0">
                <StackPanel>
                    <Label Content="Filter by Type:"/>
                    <ComboBox x:Name="TypeFilterComboBox" SelectionChanged="FilterTypeOnlySelectionChanged" Margin="0,0,0,5"/>

                    <Label Content="Filter by Name:"/>
                    <TextBox x:Name="NameFilterTextBox" TextChanged="FilterNameTextChanged"/>
                </StackPanel>
            </GroupBox>
        </StackPanel>

        <!-- Right Column: List -->
        <GroupBox Header="Weapons List" Grid.Row="0" Grid.RowSpan="3" Grid.Column="1">
            <ListBox x:Name="WeaponListBox"
                     ItemTemplate="{StaticResource WeaponItemTemplate}"
                     HorizontalContentAlignment="Stretch"
                     ScrollViewer.VerticalScrollBarVisibility="Auto"
                     d:ItemsSource="{d:SampleData ItemCount=5}"/>
        </GroupBox>
    </Grid>
</Window>
